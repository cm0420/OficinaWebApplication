# --- Importa o .env (precisa do java-dotenv-spring-boot-starter) ---
spring.config.import=optional:dotenv:
logging.level.org.springframework.security=DEBUG

# --- Identificação da aplicação ---
spring.application.name=oficina


# --- DataSource (usa variáveis de ambiente ou fallback para valores locais) ---
spring.datasource.url=${DB_URL:jdbc:postgresql://oficina-postgres:5432/postgres}
spring.datasource.username=${DB_USER:postgres}
spring.datasource.password=${DB_PASSWORD:postgres}

# --- JPA / Hibernate ---
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- Segurança (JWT secret) ---
api.security.token.secret=${API_SECURITY_TOKEN_SECRET:miguel04}

# --- Parâmetros de negócio (com defaults) ---
oficina.negocio.salario.atendente=${OFICINA_NEGOCIO_SALARIO_ATENDENTE:1000.00}
oficina.negocio.salario.mecanico=${OFICINA_NEGOCIO_SALARIO_MECANICO:1500.00}
oficina.negocio.custo.mao-de-obra=${OFICINA_NEGOCIO_CUSTO_MAO_DE_OBRA:150.00}
oficina.negocio.comissao.percentual=${OFICINA_NEGOCIO_COMISSAO_PERCENTUAL:0.05}
oficina.negocio.taxa-cancelamento.valor=${OFICINA_NEGOCIO_TAXA_CANCELAMENTO_VALOR:30.00}

# --- Inicialização de SQL ---
spring.sql.init.mode=always

# --- Actuator Endpoints ---
management.endpoints.web.exposure.include=health,info

# --- CORS (origem do front-end) ---
frontend.origin=${FRONTEND_ORIGIN:http://localhost:3000}
server.port=${SERVER_PORT:8001}